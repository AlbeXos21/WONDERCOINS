"use strict";var hoards={form:null,pagination:null,list:null,form_node:null,form_container:null,rows_container:null,table:null,set_up:function(e){const t=this;t.form_container=e.form_container,t.rows_container=e.rows_container,t.table=e.table,t.form=new form_factory;const n=t.render_form();return t.form_container.appendChild(n),t.pagination={total:null,limit:15,offset:0,n_nodes:8},event_manager.subscribe("paginate",(function(e){t.pagination.offset=e,t.form_submit()})),t.form_submit(),!0},render_form:function(){const e=this,t=new DocumentFragment,n=common.create_dom_element({element_type:"div",class_name:"form-row fields",parent:t});e.form.item_factory({id:"global_search",name:"global_search",label:tstring.global_search||"global_search",q_column:"name",eq:"LIKE",eq_in:"%",eq_out:"%",class_name:"global_search",parent:n,callback:function(t){const n=t.node_input;let o=!1;n.addEventListener("input",(function(){n.value.trim().length>=3?(o||(e.form.activate_autocomplete({form_item:t,table:"findspots",parent_in:!0,global_search:!0}),o=!0),n.dispatchEvent(new Event("keyup"))):o&&($(n).autocomplete("destroy"),o=!1)}));let a;common.create_dom_element({element_type:"div",class_name:"search_operators_info",parent:n.parentNode}).addEventListener("click",(function(t){if(t.stopPropagation(),a)return a.remove(),void(a=null);a=e.form.full_text_search_operators_info(),n.parentNode.appendChild(a)})),window.addEventListener("click",(function(e){a&&!n.contains(e.target)&&(a.remove(),a=null)}))}}),e.form.item_factory({id:"name",name:"name",label:tstring.name||"Name",q_column:"name",eq:"LIKE",eq_in:"%",eq_out:"%",parent:n,callback:function(t){const n="findspots"===e.table?"findspots":"hoards";e.form.activate_autocomplete({form_item:t,table:n,parent_in:!0})}}),e.form.item_factory({id:"place",name:"place",label:tstring.place||"Place",q_column:"place",eq:"LIKE",eq_in:"%",eq_out:"%",parent:n,callback:function(t){const n="findspots"===e.table?"findspots":"hoards";e.form.activate_autocomplete({form_item:t,table:n})}}),e.form.item_factory({id:"typology",name:"typology",label:tstring.typology||"Typology",q_column:"typology",eq:"LIKE",eq_in:"%",eq_out:"%",parent:n,callback:function(t){const n=(e.table,"publications");e.form.activate_autocomplete({form_item:t,table:n})}}),e.form.item_factory({id:"indexation",name:"indexation",label:tstring.indexation||"Indexation",q_column:"indexation",eq:"LIKE",eq_in:"%",eq_out:"%",parent:n,callback:function(t){const n="findspots"===e.table?"findspots":"hoards";e.form.activate_autocomplete({form_item:t,table:n})}});const o=common.create_dom_element({element_type:"div",class_name:"form-group field button_submit",parent:t});common.create_dom_element({element_type:"input",type:"submit",id:"submit",value:tstring.search||"Search",class_name:"btn btn-light btn-block primary",parent:o}).addEventListener("click",(function(t){t.preventDefault(),e.pagination={total:null,limit:15,offset:0,n_nodes:8},e.form_submit()}));const a=e.form.build_operators_node();return t.appendChild(a),e.form.node=common.create_dom_element({element_type:"form",id:"search_form",class_name:"form-inline form_factory"}),e.form.node.appendChild(t),e.form.node},form_submit:function(){const e=this;if(!e.form.node)return new Promise((function(e){e(!1)}));const t=e.rows_container;return e.pagination.total?t.classList.add("loading"):page.add_spinner(t),new Promise((function(n){const o="findspots"===e.table?"findspots":"hoards",a=e.form.build_filter(),s=e.form.parse_sql_filter(a,[],!0),l="(name != '' AND map != '')";let i=l;const r=s?"("+s+")":null;SHOW_DEBUG,r&&(i=l+" AND "+r),data_manager.request({body:{dedalo_get:"records",table:o,ar_fields:["*"],sql_filter:i,limit:0,count:!0,offset:0,order:"name",process_result:null,resolve_portals_custom:{bibliography_data:"bibliographic_references"}}}).then((async function(o){const a=page.parse_hoard_data(o.result),s=o.total,r=i==l?Math.floor(Math.random()*s):0;let m=" ";if(""!==e.form.form_items.global_search.q||e.form.form_items.global_search.q_selected.length>0){a||(t.classList.remove("loading"),n(null));let l=[];for(let e=0;e<s;e++){const t=JSON.parse(o.result[e].parents_text);if(t){for(let e=0;e<t.length-1;e++)m+=t[e]+(e==t.length-2?"":" | ");l.push(m)}}(void 0)((function(){for(;t.hasChildNodes();)t.removeChild(t.lastChild);t.classList.remove("loading")}))();const i=common.create_dom_element({element_type:"div",class_name:"findspot_mobile",parent:t}),c=(common.create_dom_element({element_type:"a",class_name:"title_mobile",text_content:`${o.result[r].name} | ${m}`,href:`/web_numisdata/findspot/${o.result[r].section_id}`,parent:i}),common.create_dom_element({element_type:"div",class_name:"mapa_mobile",parent:i}));let _={hallazgos:{datos:[]},cecas:{datos:[]},complejos:{datos:[]}};_.hallazgos.datos.push(o.result[r]);(new map_factory).init({map_container:c,map_position:o.result[r].map,source_maps:page.maps_config.source_maps,result:_,findspot:!0});const d=common.create_dom_element({element_type:"h2",class_name:"title_info",text_content:"Información Pública",parent:i});common.create_dom_element({element_type:"div",class_name:"golden-separator",parent:d});common.create_dom_element({element_type:"p",class_name:"info_mobile",parent:i}).innerHTML=o.result[r].public_info;const p=common.create_dom_element({element_type:"h2",class_name:"title_info",text_content:"Bibliografía",parent:i});common.create_dom_element({element_type:"div",class_name:"golden-separator",parent:p});let u=[];for(let e=0;e<o.result[r].bibliography_data.length;e++)u.push(o.result[r].bibliography_data[e].ref_publications_title+" / "+o.result[r].bibliography_data[e].ref_publications_authors+" / ("+o.result[r].bibliography_data[e].ref_publications_date+")");let f="";f=u.join("\n");common.create_dom_element({element_type:"p",class_name:"bilbiografia_mobile",parent:i,text_content:f});const g=common.create_dom_element({element_type:"h2",class_name:"title_info",text_content:"Autores",parent:i});common.create_dom_element({element_type:"div",class_name:"golden-separator",parent:g});let h=[];const y=o.result[r].authorship_names;let b=y?y.split("|").length:0;for(let e=0;e<b;e++)h.push(y.split("|")[e]+" "+o.result[r].authorship_surnames.split("|")[e]+"/"+o.result[r].authorship_roles.split("|")[e]);let v="";v=h.join("\n");common.create_dom_element({element_type:"p",class_name:"autores_mobile",parent:i,text_content:v});if(window.innerWidth>768){const n=common.create_dom_element({element_type:"div",class_name:"grid-stack",parent:t}),a=GridStack.init(n);a.addWidget({w:8,h:2,content:`${o.result[r].name} |${m}`}).querySelector(".grid-stack-item-content").id="titulo-ficha";const s=new map_factory,l=await e.cargarMonedasHallazgos(o.result[r].name);let i='<div class="ceca-widget">';l.result.forEach((e=>{const t="https://wondercoins.uca.es"+e.image_obverse,n="https://wondercoins.uca.es"+e.image_reverse,o=e.type_full_value||"Moneda sin nombre";i+=`\n\t\t\t\t\t\t\t\t<div class="coin-card">\n\t\t\t\t\t\t\t\t\t<div class = "coin-imagenes">\n\t\t\t\t\t\t\t\t\t<img src="${t}" alt="anverso" class="coin-img">\n\t\t\t\t\t\t\t\t\t<img src="${n}" alt="reverso" class="coin-img"> </div>\n\t\t\t\t\t\t\t\t\t<p class="coin-name">${o}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t`})),i+="</div>",a.addWidget({w:4,h:12,content:i});a.addWidget({w:4,h:4,content:`<img src="https://wondercoins.uca.es${o.result[r].identify_image}" alt="Imagen dinámica" style="width:100%; height:100%; object-fit:cover; overflow: hidden;"`}).querySelector(".grid-stack-item-content").id="img_ident";const c=a.addWidget({w:4,h:4,content:""});let _={hallazgos:{datos:[]},cecas:{datos:[]},complejos:{datos:[]}};_.hallazgos.datos.push(o.result[r]),s.init({map_container:c,map_position:o.result[r].map,source_maps:page.maps_config.source_maps,result:_,findspot:!0}),a.addWidget({w:4,h:1,content:`${o.result[r].typology}`}),a.addWidget({w:4,h:1,content:`<span style="font-size:2.5rem">${o.result[r].date_in} /${o.result[r].date_out}</span>`}),a.addWidget({w:8,h:1,content:`${o.result[r].indexation}`}),a.addWidget({w:8,h:4,content:`${o.result[r].public_info}`});let d=[];for(let e=0;e<o.result[r].bibliography_data.length;e++)d.push(o.result[r].bibliography_data[e].ref_publications_title+" / "+o.result[r].bibliography_data[e].ref_publications_authors+" / ("+o.result[r].bibliography_data[e].ref_publications_date+")");let p="";p=d.join("\n"),a.addWidget({w:8,h:4,content:`<div style="white-space: pre-line; font-size: 1.5rem;">${p}</div>`});let u=[];const f=o.result[r].authorship_names;let g=f?f.split("|").length:0;for(let e=0;e<g;e++)u.push(o.result[r].authorship_names.split("|")[e]+" "+o.result[r].authorship_surnames.split("|")[e]+"/"+o.result[r].authorship_roles.split("|")[e]);let h="";h=u.join("\n"),a.addWidget({w:4,h:4,content:`<div style="white-space: pre-line; font-size: 1.5rem;">${h}</div>`})}const w=common.create_dom_element({element_type:"div",class_name:"container_title",parent:t}),x=(common.create_dom_element({element_type:"h1",class_name:"title",text_content:"Hallazgo Jerarquizado",parent:w}),common.create_dom_element({element_type:"img",class_name:"imagen",src:"tpl/assets/images/arrow-right.svg",parent:w}));common.create_dom_element({element_type:"div",class_name:"golden-separator",parent:t});let $="";const q=JSON.parse(o.result[r].parents_text);if(q)for(let e=0;e<q.length-1;e++)$+=q[e]+(e==q.length-2?"":" - ");const z=common.create_dom_element({element_type:"div",class_name:"line-tittle_mid",text_content:$,parent:t});z.style.display="none";let L=!1;x.addEventListener("mousedown",(function(){L?(x.style.transform="rotate(0deg) translateY(0.75vh)",z.style.display="none"):(x.style.transform="rotate(90deg) translateX(0.75vh)",z.style.display="block"),L=!L}));common.create_dom_element({element_type:"div",class_name:"arbol_moneda",parent:t}).appendChild(await e.render_rows_hallazgo_completo(o.result[r]))}else{a||(t.classList.remove("loading"),n(null)),function(){for(;t.hasChildNodes();)t.removeChild(t.lastChild);t.classList.remove("loading")}();const s=common.create_dom_element({element_type:"div",class_name:"findspot_mobile",parent:t}),l=JSON.parse(o.result[r].parents_text);if(l)for(let e=0;e<l.length-1;e++)m+=l[e]+(e==l.length-2?"":" | ");common.create_dom_element({element_type:"a",class_name:"title_mobile",text_content:`${o.result[r].name} | ${m}`,href:`/web_numisdata/findspot/${o.result[r].section_id}`,parent:s});const i=common.create_dom_element({element_type:"div",class_name:"mapa_mobile",parent:s});let c={hallazgos:{datos:[]},cecas:{datos:[]},complejos:{datos:[]}};c.hallazgos.datos.push(o.result[r]);(new map_factory).init({map_container:i,map_position:o.result[r].map,source_maps:page.maps_config.source_maps,result:c,findspot:!0});const _=common.create_dom_element({element_type:"h2",class_name:"title_info",text_content:"Información Pública",parent:s});common.create_dom_element({element_type:"div",class_name:"golden-separator",parent:_});common.create_dom_element({element_type:"p",class_name:"info_mobile",parent:s}).innerHTML=o.result[r].public_info;const d=common.create_dom_element({element_type:"h2",class_name:"title_info",text_content:"Bibliografía",parent:s});common.create_dom_element({element_type:"div",class_name:"golden-separator",parent:d});let p=[];for(let e=0;e<o.result[r].bibliography_data.length;e++)p.push(o.result[r].bibliography_data[e].ref_publications_title+" / "+o.result[r].bibliography_data[e].ref_publications_authors+" / ("+o.result[r].bibliography_data[e].ref_publications_date+")");let u="";u=p.join("\n");common.create_dom_element({element_type:"p",class_name:"bilbiografia_mobile",parent:s,text_content:u});const f=common.create_dom_element({element_type:"h2",class_name:"title_info",text_content:"Autores",parent:s});common.create_dom_element({element_type:"div",class_name:"golden-separator",parent:f});let g=[];const h=o.result[r].authorship_names;let y=h?h.split("|").length:0;for(let e=0;e<y;e++)g.push(h.split("|")[e]+" "+o.result[r].authorship_surnames.split("|")[e]+"/"+o.result[r].authorship_roles.split("|")[e]);let b="";b=g.join("\n");common.create_dom_element({element_type:"p",class_name:"autores_mobile",parent:s,text_content:b});if(window.innerWidth>768){const n=common.create_dom_element({element_type:"div",class_name:"grid-stack",parent:t});let a=" ";const s=GridStack.init(n);s.addWidget({w:8,h:2,content:`${o.result[r].name} |${a}`}).querySelector(".grid-stack-item-content").id="titulo-ficha";const l=new map_factory,i=await e.cargarMonedasHallazgos(o.result[r].name);let m='<div class="ceca-widget">';i.result.forEach((e=>{const t="https://wondercoins.uca.es"+e.image_obverse,n="https://wondercoins.uca.es"+e.image_reverse,o=e.type_full_value||"Moneda sin nombre";m+=`\n\t\t\t\t\t\t\t<div class="coin-card">\n\t\t\t\t\t\t\t\t<div class = "coin-imagenes">\n\t\t\t\t\t\t\t\t<img src="${t}" alt="anverso" class="coin-img">\n\t\t\t\t\t\t\t\t<img src="${n}" alt="reverso" class="coin-img"> </div>\n\t\t\t\t\t\t\t\t<p class="coin-name">${o}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`})),m+="</div>",s.addWidget({w:4,h:12,content:m});s.addWidget({w:4,h:4,content:`<img src="https://wondercoins.uca.es${o.result[r].identify_image}" alt="Imagen dinámica" style="width:100%; height:100%; object-fit:cover; overflow: hidden;"`}).querySelector(".grid-stack-item-content").id="img_ident";const c=s.addWidget({w:4,h:4,content:""});let _={hallazgos:{datos:[]},cecas:{datos:[]},complejos:{datos:[]}};_.hallazgos.datos.push(o.result[r]),l.init({map_container:c,map_position:o.result[r].map,source_maps:page.maps_config.source_maps,result:_,findspot:!0}),s.addWidget({w:4,h:1,content:`${o.result[r].typology}`}),s.addWidget({w:4,h:1,content:`<span style="font-size:2.5rem">${o.result[r].date_in} /${o.result[r].date_out}</span>`}),s.addWidget({w:8,h:1,content:`${o.result[r].indexation}`}),s.addWidget({w:8,h:4,content:`${o.result[r].public_info}`});let d=[];for(let e=0;e<o.result[r].bibliography_data.length;e++)d.push(o.result[r].bibliography_data[e].ref_publications_title+" / "+o.result[r].bibliography_data[e].ref_publications_authors+" / ("+o.result[r].bibliography_data[e].ref_publications_date+")");let p="";p=d.join("\n"),s.addWidget({w:8,h:4,content:`<div style="white-space: pre-line; font-size: 1.5rem;">${p}</div>`});let u=[];const f=o.result[r].authorship_names;let g=f?f.split("|").length:0;for(let e=0;e<g;e++)u.push(o.result[r].authorship_names.split("|")[e]+" "+o.result[r].authorship_surnames.split("|")[e]+"/"+o.result[r].authorship_roles.split("|")[e]);let h="";h=u.join("\n"),s.addWidget({w:4,h:4,content:`<div style="white-space: pre-line; font-size: 1.5rem;">${h}</div>`})}const v=common.create_dom_element({element_type:"div",class_name:"container_title",parent:t}),w=(common.create_dom_element({element_type:"h1",class_name:"title",text_content:"Hallazgo Jerarquizado",parent:v}),common.create_dom_element({element_type:"img",class_name:"imagen",src:"tpl/assets/images/arrow-right.svg",parent:v}));common.create_dom_element({element_type:"div",class_name:"golden-separator",parent:t});let x="";const $=JSON.parse(o.result[r].parents_text);if($)for(let e=0;e<$.length-1;e++)x+=$[e]+(e==$.length-2?"":" - ");const q=common.create_dom_element({element_type:"div",class_name:"line-tittle_mid",text_content:x,parent:t});q.style.display="none";let z=!1;w.addEventListener("mousedown",(function(){z?(w.style.transform="rotate(0deg) translateY(0.75vh)",q.style.display="none"):(w.style.transform="rotate(90deg) translateX(0.75vh)",q.style.display="block"),z=!z}));common.create_dom_element({element_type:"div",class_name:"arbol_moneda",parent:t}).appendChild(await e.render_rows_hallazgo_completo(o.result[r]))}}));const m=document.querySelector(".rows_container");m&&m.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}))},render_rows_hallazgo:async function(e){const t=new DocumentFragment;var n=await this.createfindspot_Tree(e);return this.generate_Tree(n,n[0],t,0),t},render_rows_hallazgo_completo:async function(e){const t=new DocumentFragment;var n=await this.createfindspot_Tree(e);return this.generate_Tree_completo(n,n[0],t,0,0,2),t},createfindspot_Tree:async function(e){const t=[],n=await this.cargarHijosHallazgos(e.section_id);t.push({info_nodo:e,padre:null});for(let e=0;e<n.result.length;e++){const o=JSON.parse(n.result[e].parents);t.push({info_nodo:n.result[e],padre:o[0]})}return t},cargarHijosHallazgos:async function(e){try{return await data_manager.request({body:{dedalo_get:"records",table:"findspots",ar_fields:["*"],sql_filter:`parents LIKE '%"${e}"%'`,limit:0,count:!0,offset:0,order:"section_id ASC",process_result:null}})}catch(e){}},generate_Tree:function(e,t,n,o){const a=common.create_dom_element({element_type:"div",class_name:"container_prueba",text_content:t.info_nodo.name,parent:n});if(a.style.paddingLeft=`${o}em`,null!=t.info_nodo.children)for(let n=0;n<e.length;n++)e[n].info_nodo.parent=='["'+t.info_nodo.section_id+'"]'&&(e[n].padre="'"+t.info_nodo.section_id+"'",this.generate_Tree(e,e[n],a,1.5))},cargarMonedasHallazgos:async function(e){try{return await data_manager.request({body:{dedalo_get:"records",table:"coins",ar_fields:["*"],sql_filter:`findspot LIKE '%${e}%'`,limit:15,count:!0,offset:0,order:"section_id ASC",process_result:null}})}catch(e){}},generate_Tree_completo:async function(e,t,n,o,a,s){const l=common.create_dom_element({element_type:"div",class_name:"container_prueba",parent:n}),i=common.create_dom_element({element_type:"a",class_name:"info_link",text_content:t.info_nodo.name,href:`/web_numisdata/findspot/${t.info_nodo.section_id}`,parent:l});if(l.style.paddingLeft=`${o}em`,i.style.fontSize=`${s}rem`,i.style.textTransform="uppercase",i.style.fontWeight="bold",null!=t.info_nodo.coins){const e=await this.cargarMonedasHallazgos(t.info_nodo.name),n=common.create_dom_element({element_type:"img",class_name:"button_display",src:"tpl/assets/images/arrow-right.svg",parent:l});n.classList.add(`button_display_${t.info_nodo.section_id}`),n.style.transform=" translateX(30%) translateY(18%)";const o=common.create_dom_element({element_type:"div",class_name:`swiper swiper_${t.info_nodo.section_id}`,parent:l});o.style.display="none";const a=common.create_dom_element({element_type:"div",class_name:"swiper-wrapper",parent:o});for(let t=0;t<e.result.length;t++){const n=common.create_dom_element({element_type:"div",class_name:"swiper-slide",parent:a}),o=common.create_dom_element({element_type:"div",class_name:"flip-card",parent:n});o.classList.add(`flip-card_${e.result[t].section_id}`),o.style.fontWeight="normal";const s=common.create_dom_element({element_type:"div",class_name:"flip-card-inner",parent:o}),l=common.create_dom_element({element_type:"div",class_name:"flip-card-front",parent:s}),i="https://wondercoins.uca.es"+e.result[t].image_obverse,r="https://wondercoins.uca.es"+e.result[t].image_reverse;common.create_dom_element({element_type:"img",class_name:"img_obverse",parent:l,src:i}),common.create_dom_element({element_type:"img",parent:l,src:r});const m=common.create_dom_element({element_type:"div",class_name:"flip-card-back",parent:s});let c=e.result[t].type_data?e.result[t].type_data.replace('"',"").replace("[","").replace("]","").replace('"',""):0;const _=common.create_dom_element({element_type:"div",class_name:"type_container",parent:m}),d=e.result[t].denomination?e.result[t].denomination+e.result[t].type_full_value.split(`${e.result[t].denomination}`)[1]:e.result[t].type_full_value,p=d||"Tipo";common.create_dom_element({element_type:"a",class_name:"type_link",href:`/web_numisdata/type/${c}`,text_content:p,parent:_});const u=common.create_dom_element({element_type:"div",class_name:"findspot_container",parent:m});common.create_dom_element({element_type:"p",class_name:"descriptive_title",text_content:"Excavación:",parent:u}),common.create_dom_element({element_type:"p",class_name:"findspot_text",text_content:e.result[t].findspot.split(" | ")[0],parent:u});const f=common.create_dom_element({element_type:"div",class_name:"date_container",parent:m});common.create_dom_element({element_type:"p",class_name:"descriptive_title",text_content:"Datación: ",parent:f});const g=e.result[t].date_in,h=e.result[t].date_out,y=!!g,b=!!h,v=y?g.includes("-")?Math.abs(parseInt(g))+" A.C.":g+" D.C.":"N/A",w=b?h.includes("-")?Math.abs(parseInt(h))+" A.C.":h+" D.C.":"N/A",x=y||b?v+" - "+w:"N/A - N/A";common.create_dom_element({element_type:"p",class_name:"date_text",text_content:x,parent:f});const $=common.create_dom_element({element_type:"div",class_name:"weigdia_container",parent:m}),q=common.create_dom_element({element_type:"div",class_name:"weight_container",parent:$});common.create_dom_element({element_type:"p",class_name:"descriptive_title",text_content:"Peso: ",parent:q});const z=e.result[t].weight?e.result[t].weight+" gramos":"N/A";common.create_dom_element({element_type:"p",class_name:"weight_text",text_content:z,parent:q});const L=common.create_dom_element({element_type:"div",class_name:"diameter_container",parent:$});common.create_dom_element({element_type:"p",class_name:"descriptive_title",text_content:"Diametro: ",parent:L});const k=e.result[t].diameter?e.result[t].diameter+" mm":"N/A";common.create_dom_element({element_type:"p",class_name:"diameter_text",text_content:k,parent:L});const W=common.create_dom_element({element_type:"div",class_name:"dico_container",parent:m}),E=common.create_dom_element({element_type:"div",class_name:"dies_container",parent:W});common.create_dom_element({element_type:"p",class_name:"descriptive_title",text_content:"Posición de cuños: ",parent:E});const N=e.result[t].dies?e.result[t].dies:"N/A";common.create_dom_element({element_type:"p",class_name:"dies_text",text_content:N,parent:E});const C=common.create_dom_element({element_type:"div",class_name:"collection_container",parent:W});common.create_dom_element({element_type:"p",class_name:"descriptive_title",text_content:"Colección: ",parent:C});const A=e.result[t].collection?e.result[t].collection:"N/A";common.create_dom_element({element_type:"p",class_name:"collection_text",text_content:A,parent:C});const S=common.create_dom_element({element_type:"div",class_name:"finsec_container",parent:m}),j=common.create_dom_element({element_type:"div",class_name:"fin_type_container",parent:S});common.create_dom_element({element_type:"p",class_name:"descriptive_title",text_content:"Tipo de deposito: ",parent:j});const T=e.result[t].find_type?e.result[t].find_type:"N/A";common.create_dom_element({element_type:"p",class_name:"fin_type_text",text_content:T,parent:j});const I=common.create_dom_element({element_type:"div",class_name:"section_id_container",parent:S});common.create_dom_element({element_type:"p",class_name:"descriptive_title",text_content:"Nº de inventario: ",parent:I});const H=e.result[t].section_id?e.result[t].section_id:"N/A";common.create_dom_element({element_type:"p",class_name:"section_id_text",text_content:H,parent:I}),document.addEventListener("click",(n=>{const o=n.target.closest(`.flip-card_${e.result[t].section_id}`);o&&o.classList.toggle("flipped")}))}common.create_dom_element({element_type:"div",class_name:`swiper-button-prev swiper-prev-${t.info_nodo.section_id}`,parent:o}),common.create_dom_element({element_type:"div",class_name:`swiper-button-next swiper-next-${t.info_nodo.section_id}`,parent:o}),common.create_dom_element({element_type:"div",class_name:`swiper-pagination swiper-pagination-${t.info_nodo.section_id}`,parent:o}),o.style.paddingLeft="1em",new Swiper(`.swiper_${t.info_nodo.section_id}`,{pagination:{el:`.swiper-pagination-${t.info_nodo.section_id}`,clickable:!0},navigation:{nextEl:`.swiper-next-${t.info_nodo.section_id}`,prevEl:`.swiper-prev-${t.info_nodo.section_id}`}});let s=!1;document.addEventListener("mousedown",(e=>{const n=e.target.closest(`.button_display_${t.info_nodo.section_id}`);n&&o&&(s?(n.style.transform="rotate(0deg) translateY(20%) translateX(30%)",o.style.display="none"):(n.style.transform="rotate(90deg) translateX(30%) translateY(-20%)",o.style.display="block"),s=!s)}))}if(null!=t.info_nodo.children)for(let n=0;n<e.length;n++)e[n].info_nodo.parent=='["'+t.info_nodo.section_id+'"]'&&(e[n].padre="'"+t.info_nodo.section_id+"'",window.innerWidth>768?this.generate_Tree_completo(e,e[n],l,2,a+1,s-.1):this.generate_Tree_completo(e,e[n],l,.4,a+1,s-.2))}};